{
  "schemas": [
    "json-schema/draft-07"
  ],
  "groups": {
    "messagegroups": {
      "singular": "messagegroup",
      "plural": "messagegroups",

      "attributes": {
        "format": {
          "name": "format",
          "type": "string",
          "description": "Format identifier that defines the common metadata information for the message. All definitions in this group share this format. Mixed-format groups are not permitted"
        },
        "binding": {
          "name": "binding",
          "type": "string",
          "description": "Binding identifier that defines the transport message binding. All definitions in this group share this binding type. Mixed-binding groups are not permitted",
        },
        "*": {
          "name": "*",
          "type": "any"
        }
      },

      "resources": {
        "messages": {
          "singular": "message",
          "plural": "messages",
          "versions": 1,

          "attributes": {
            "basemessageurl": {
              "name": "basemessageurl",
              "type": "uri",
              "description": "Reference to a base definition for this definition, either via a (relative) URL or a fragment identifier. The base definition is overridden by this definition. If not present, this definition does not override any base definition"
            },
            "format": {
              "type": "string",
              "description": "Message format identifier. This attribute MUST be the same as the 'format' attribute of the definition group, but is not automatically inherited because definitions may be cross-referenced across groups",
              "ifvalue": {
                "None" : {
                },
                "CloudEvents/1.0": {
                  "siblingattributes": {
                    "metadata": {
                      "name": "metadata",
                      "type": "object",
                      "description": "CloudEvents metadata constraints",
                      "item": {
                        "attributes": {
                          "type": {
                            "name": "type",
                            "type": "object",
                            "description": "CloudEvents type",
                            "item": {
                              "attributes": {
                                "value": {
                                  "name": "value",
                                  "type": "string",
                                  "description": "CloudEvents type value template"
                                }
                              }
                            }
                          },
                          "source": {
                            "description": "CloudEvents source",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "CloudEvents source value template",
                                  "type": "string",
                                  "required": false
                                }
                              }
                            }
                          },
                          "subject": {
                            "description": "CloudEvents subject",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "CloudEvents subject value template",
                                  "type": "string",
                                  "required": false
                                },
                                "required": {
                                  "description": "CloudEvents subject required",
                                  "type": "boolean",
                                  "required": false
                                }
                              }
                            }
                          },
                          "id": {
                            "description": "CloudEvents id",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "CloudEvents id value template",
                                  "type": "string",
                                  "required": false
                                }
                              }
                            }
                          },
                          "time": {
                            "description": "The timestamp of when the event happened",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "The timestamp value template",
                                  "type": "string",
                                  "required": false
                                },
                                "required": {
                                  "description": "The timestamp required",
                                  "type": "boolean",
                                  "required": false
                                }
                              }
                            }
                          },
                          "dataschema": {
                            "description": "The uri of the schema that the event payload adheres to. If the dataschema attribute is not present, it MUST be interpreted as no schema. An application MAY assign a meaning to the dataschema attribute if it is not present by default",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "The uri value template",
                                  "type": "uritemplate",
                                  "required": false
                                },
                                "required": {
                                  "description": "The uri required",
                                  "type": "boolean",
                                  "required": false
                                }
                              }
                            }
                          },
                          "*": {
                            "description": "CloudEvent extension property",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "The value template",
                                  "type": "string",
                                  "required": false
                                },
                                "required": {
                                  "description": "Whether the extension is required",
                                  "type": "boolean",
                                  "required": false
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "binding": {
              "description": "Binding identifier. This attribute MUST be the same as the 'binding' attribute of the definition group, but is not automatically inherited because definitions may be cross-referenced across groups",
              "type": "string",
              "required": false,
              "ifvalue": {
                "None" : {
                },
                "AMQP/1.0": {
                  "siblingattributes": {
                    "message": {
                      "description": "AMQP message metadata constraints",
                      "type": "object",
                      "required": false,
                      "item": {
                        "attributes": {
                          "properties": {
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "message_id": {
                                  "description": "AMQP message-id",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP message-id value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP message-id required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "user_id": {
                                  "description": "AMQP user-id",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP user-id value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP user-id required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "to": {
                                  "description": "AMQP to",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP to value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP to required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "subject": {
                                  "description": "AMQP subject",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP subject value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP subject required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "reply_to": {
                                  "description": "AMQP reply-to",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP reply-to value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP reply-to required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "correlation_id": {
                                  "description": "AMQP correlation-id",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP correlation-id value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP correlation-id required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "content_type": {
                                  "description": "AMQP content-type",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP content-type value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP content-type required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "content_encoding": {
                                  "description": "AMQP content-encoding",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP content-encoding value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP content-encoding required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "absolute_expiry_time": {
                                  "description": "AMQP absolute-expiry-time",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP absolute-expiry-time value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP absolute-expiry-time required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "group_id": {
                                  "description": "AMQP group-id",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP group-id value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP group-id required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "group_sequence": {
                                  "description": "AMQP group-sequence",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP group-sequence value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP group-sequence required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                },
                                "reply_to_group_id": {
                                  "description": "AMQP reply-to-group-id",
                                  "type": "object",
                                  "required": false,
                                  "item": {
                                    "attributes": {
                                      "value": {
                                        "description": "AMQP reply-to-group-id value template",
                                        "type": "string",
                                        "required": false
                                      },
                                      "required": {
                                        "description": "AMQP reply-to-group-id required",
                                        "type": "boolean",
                                        "required": false
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "application_properties": {
                            "type": "map",
                            "required": false,
                            "item": {
                              "type": "object",
                              "item": {
                                "attributes": {
                                  "value": {
                                    "description": "The application property value template",
                                    "type": "string",
                                    "required": false
                                  },
                                  "required": {
                                    "description": "The application property required",
                                    "type": "boolean",
                                    "required": false
                                  },
                                  "type": {
                                    "description": "The application property type",
                                    "type": "string",
                                    "required": false
                                  }
                                }
                              }
                            }
                          },
                          "message_annotations": {
                            "type": "map",
                            "required": false,
                            "item": {
                              "type": "object",
                              "item": {
                                "attributes": {
                                  "value": {
                                    "description": "The message annotation value",
                                    "type": "string",
                                    "required": false
                                  },
                                  "required": {
                                    "description": "Whether the message annotation is required",
                                    "type": "boolean",
                                    "required": false
                                  },
                                  "type": {
                                    "description": "The message annotation type",
                                    "type": "string",
                                    "required": false
                                  }
                                }
                              }
                            }
                          },
                          "delivery_annotations": {
                            "type": "map",
                            "required": false,
                            "item": {
                              "type": "object",
                              "item": {
                                "attributes": {
                                  "value": {
                                    "description": "The delivery annotation value",
                                    "type": "string",
                                    "required": false
                                  },
                                  "required": {
                                    "description": "Whether the annotation is required",
                                    "type": "boolean",
                                    "required": false
                                  },
                                  "type": {
                                    "description": "The annotation type",
                                    "type": "string",
                                    "required": false
                                  }
                                }
                              }
                            }
                          },
                          "header": {
                            "type": "map",
                            "required": false,
                            "item": {
                              "type": "object",
                              "item": {
                                "attributes": {
                                  "value": {
                                    "description": "AMQP header value",
                                    "type": "string",
                                    "required": false
                                  },
                                  "required": {
                                    "description": "AMQP header required",
                                    "type": "boolean",
                                    "required": false
                                  },
                                  "type": {
                                    "description": "AMQP header type",
                                    "type": "string",
                                    "required": false
                                  }
                                }
                              }
                            }
                          },
                          "footer": {
                            "type": "map",
                            "required": false,
                            "item": {
                              "type": "object",
                              "item": {
                                "attributes": {
                                  "value": {
                                    "description": "AMQP footer value",
                                    "type": "string",
                                    "required": false
                                  },
                                  "required": {
                                    "description": "AMQP footer required",
                                    "type": "boolean",
                                    "required": false
                                  },
                                  "type": {
                                    "description": "AMQP footer type",
                                    "type": "string",
                                    "required": false
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "MQTT/3.1.1": {
                  "siblingattributes": {
                    "message": {
                      "description": "MQTT message metadata constraints",
                      "type": "object",
                      "required": false,
                      "item": {
                        "attributes": {
                          "qos": {
                            "description": "MQTT qos",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT qos value template",
                                  "type": "string",
                                  "required": false
                                }
                              }
                            }
                          },
                          "retain": {
                            "description": "MQTT retain",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT retain value template",
                                  "type": "boolean",
                                  "required": false
                                }
                              }
                            }
                          },
                          "topic_name": {
                            "description": "MQTT topic-name",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT topic-name value template",
                                  "type": "string",
                                  "required": false
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "MQTT/5.0": {
                  "siblingattributes": {
                    "message": {
                      "description": "MQTT message metadata constraints",
                      "type": "object",
                      "required": false,
                      "item": {
                        "attributes": {
                          "qos": {
                            "description": "MQTT qos",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT qos value template",
                                  "type": "integer",
                                  "required": false
                                }
                              }
                            }
                          },
                          "retain": {
                            "description": "MQTT retain",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT retain value template",
                                  "type": "boolean",
                                  "required": false
                                }
                              }
                            }
                          },
                          "topic_name": {
                            "description": "MQTT topic-name",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT topic-name value template",
                                  "type": "string",
                                  "required": false
                                }
                              }
                            }
                          },
                          "message_expiry_interval": {
                            "description": "MQTT message-expiry-interval",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT message-expiry-interval value template",
                                  "type": "integer",
                                  "required": false
                                }
                              }
                            }
                          },
                          "response_topic": {
                            "description": "MQTT response-topic",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT response-topic value template",
                                  "type": "string",
                                  "required": false
                                }
                              }
                            }
                          },
                          "correlation_data": {
                            "description": "MQTT correlation-data",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT correlation-data value template",
                                  "type": "binary",
                                  "required": false
                                }
                              }
                            }
                          },
                          "content_type": {
                            "description": "MQTT content-type",
                            "type": "object",
                            "required": false,
                            "item": {
                              "attributes": {
                                "value": {
                                  "description": "MQTT content-type value template",
                                  "type": "string",
                                  "required": false
                                }
                              }
                            }
                          },
                          "user_properties": {
                            "description": "MQTT user-properties",
                            "type": "array",
                            "required": false,
                            "item": {
                              "type": "object",
                              "item": {
                                "attributes": {
                                  "name": {
                                    "description": "MQTT user-property name",
                                    "type": "string",
                                    "required": false
                                  },
                                  "value": {
                                    "description": "MQTT user-property value",
                                    "type": "string",
                                    "required": false
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "KAFKA": {
                  "siblingattributes": {
                    "message": {
                      "description": "The Apache Kafka message metadata constraints",
                      "type": "object",
                      "required": false,
                      "item": {
                        "attributes": {
                          "topic": {
                            "description": "The Apache Kafka topic",
                            "type": "string",
                            "required": false
                          },
                          "partition": {
                            "description": "The Apache Kafka partition",
                            "type": "integer",
                            "required": false
                          },
                          "key": {
                            "description": "The Apache Kafka key",
                            "type": "binary",
                            "required": false
                          },
                          "headers": {
                            "description": "The Apache Kafka headers",
                            "type": "map",
                            "required": false,
                            "item": {
                              "type": "object",
                              "item": {
                                "attributes": {
                                  "name": {
                                    "description": "The Apache Kafka header name",
                                    "type": "string",
                                    "required": false
                                  },
                                  "value": {
                                    "description": "The Apache Kafka header value",
                                    "type": "string",
                                    "required": false
                                  }
                                }
                              }
                            }
                          },
                          "timestamp": {
                            "description": "The Apache Kafka timestamp",
                            "type": "integer",
                            "required": false
                          }
                        }
                      }
                    }
                  }
                },
                "HTTP": {
                  "siblingattributes": {
                    "message": {
                      "description": "The HTTP message metadata constraints",
                      "type": "object",
                      "required": false,
                      "item": {
                        "attributes": {
                          "headers": {
                            "description": "The HTTP headers",
                            "type": "array",
                            "required": false,
                            "item": {
                              "type": "object",
                              "item": {
                                "attributes": {
                                  "name": {
                                    "description": "The HTTP header name",
                                    "type": "string",
                                    "required": false
                                  },
                                  "value": {
                                    "description": "The HTTP header value",
                                    "type": "string",
                                    "required": false
                                  }
                                }
                              }
                            }
                          },
                          "query": {
                            "description": "The HTTP query parameters",
                            "type": "object",
                            "required": false
                          },
                          "path": {
                            "description": "The HTTP path as a uri template",
                            "type": "string",
                            "required": false
                          },
                          "method": {
                            "description": "The HTTP method",
                            "type": "string",
                            "required": false
                          }
                        }
                      }
                    }
                  }
                }
              },
              "schemaformat": {
                "description": "The schema format applicable to the message payload, equivalent to the 'format' attribute attribute of the schema registry",
                "type": "string",
                "required": false
              },
              "schema": {
                "description": "The inline schema for the message payload, equivalent to the 'schema' attribute of the schema registry",
                "type": "string",
                "required": false
              },
              "schemaobject": {
                "description": "The inline schema object for the message payload, equivalent to the 'schemaobject' attribute of the schema registry",
                "type": "string",
                "required": false
              },
              "schemaurl": {
                "description": "The URL of the schema for the message payload, equivalent to the 'schemaurl' attribute of the schema registry",
                "type": "string",
                "required": false
              }
            }
          }
        }
      }
    }
  }
}
